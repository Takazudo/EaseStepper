/*! EaseStepper (https://github.com/Takazudo/EaseStepper)
 * lastupdate: 2013-05-21
 * version: 1.1.0
 * author: 'Takazudo' Takeshi Takatsudo <takazudo@gmail.com>
 * License: MIT */
(function(){var t,e,n=[].slice,i={}.hasOwnProperty,r=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};e={},e.Event=function(){function t(){}return t.prototype.on=function(t,e){var n,i,r,s,a;for(null==this._callbacks&&(this._callbacks={}),n=t.split(" "),s=0,a=n.length;a>s;s++)i=n[s],(r=this._callbacks)[i]||(r[i]=[]),this._callbacks[i].push(e);return this},t.prototype.once=function(t,e){return this.on(t,function(){return this.off(t,arguments.callee),e.apply(this,arguments)}),this},t.prototype.trigger=function(){var t,e,i,r,s,a,o;if(t=arguments.length>=1?n.call(arguments,0):[],i=t.shift(),r=null!=(o=this._callbacks)?o[i]:void 0){for(s=0,a=r.length;a>s&&(e=r[s],e.apply(this,t)!==!1);s++);return this}},t.prototype.off=function(t,e){var n,i,r,s,a,o;if(!t)return this._callbacks={},this;if(r=null!=(o=this._callbacks)?o[t]:void 0,!r)return this;if(!e)return delete this._callbacks[t],this;for(i=s=0,a=r.length;a>s;i=++s)if(n=r[i],n===e){r=r.slice(),r.splice(i,1),this._callbacks[t]=r;break}return this},t}(),t=function(t){function e(t){this.options=t,this._tweakOptions(),this._whileEasing=!1,this._stopRequested=!1}return r(e,t),e.prototype._tweakOptions=function(){var t;return t=this.options,t.interval||(t.interval=13),t.done&&this.done(t.done),t.beginningValue||(t.beginningValue=0),t.valueInChange||(t.valueInChange=t.endValue-t.beginningValue),this},e.prototype._triggerEvent=function(t,e,n,i){return this._currentData={elapsedTimeRate:e,valueChangeRate:n,value:i+this.options.beginningValue},this.trigger(t,this._currentData),this},e.prototype.start=function(){var t,e,n,i,r=this;return n=this.options,this._triggerEvent("start",0,0,0),e=0,t=0,this._whileEasing=!0,this._timerId=null,i=function(){var i,s;if(r._stopRequested!==!0)return e>=n.duration?(r._whileEasing=!1,r._triggerEvent("end",1,1,n.valueInChange),r._clearTimer(),void 0):(i=e/n.duration,s=n.easing(i,e,0,1,n.duration),t=n.valueInChange*s,r._triggerEvent("step",i,s,t),e+=n.interval)},this._timerId=setInterval(i,n.interval),this},e.prototype._clearTimer=function(){return this._timerId&&(clearInterval(this._timerId),this._timerId=null),this},e.prototype.stop=function(){return this._whileEasing===!1?!1:(this._clearTimer(),this._stopRequested=!0,this._triggerEvent("stop",this._currentData),this)},e.prototype.done=function(t){var e=this;return this.on("end",function(){return t(e)}),this},e}(e.Event),window.EaseStepperNs=e,window.EaseStepper=t}).call(this);