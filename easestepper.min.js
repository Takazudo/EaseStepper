/*! EaseStepper (https://github.com/Takazudo/EaseStepper)
 * lastupdate: 2013-04-19
 * version: 1.0.0
 * author: 'Takazudo' Takeshi Takatsudo <takazudo@gmail.com>
 * License: MIT */
(function(){var t,n,e=[].slice,i={}.hasOwnProperty,s=function(t,n){function e(){this.constructor=t}for(var s in n)i.call(n,s)&&(t[s]=n[s]);return e.prototype=n.prototype,t.prototype=new e,t.__super__=n.prototype,t};n={},n.Event=function(){function t(){}return t.prototype.on=function(t,n){var e,i,s,r,o;for(null==this._callbacks&&(this._callbacks={}),e=t.split(" "),r=0,o=e.length;o>r;r++)i=e[r],(s=this._callbacks)[i]||(s[i]=[]),this._callbacks[i].push(n);return this},t.prototype.once=function(t,n){return this.on(t,function(){return this.off(t,arguments.callee),n.apply(this,arguments)}),this},t.prototype.trigger=function(){var t,n,i,s,r,o,a;if(t=arguments.length>=1?e.call(arguments,0):[],i=t.shift(),s=null!=(a=this._callbacks)?a[i]:void 0){for(r=0,o=s.length;o>r&&(n=s[r],n.apply(this,t)!==!1);r++);return this}},t.prototype.off=function(t,n){var e,i,s,r,o,a;if(!t)return this._callbacks={},this;if(s=null!=(a=this._callbacks)?a[t]:void 0,!s)return this;if(!n)return delete this._callbacks[t],this;for(i=r=0,o=s.length;o>r;i=++r)if(e=s[i],e===n){s=s.slice(),s.splice(i,1),this._callbacks[t]=s;break}return this},t}(),t=function(t){function n(t){this.options=t,this._tweakOptions(),this._whileEasing=!1,this._stopRequested=!1}return s(n,t),n.prototype._tweakOptions=function(){var t;return t=this.options,t.fps||(t.fps=13),t.done&&this.done(t.done),t.beginningValue||(t.beginningValue=0),t.valueInChange||(t.valueInChange=t.endValue-t.beginningValue),this},n.prototype._triggerEvent=function(t,n,e,i){return this._currentData={elapsedTimeRate:n,valueChangeRate:e,value:i+this.options.beginningValue},this.trigger(t,this._currentData),this},n.prototype.start=function(){var t,n,e,i,s=this;return e=this.options,this._triggerEvent("start",0,0,0),n=0,t=0,this._whileEasing=!0,i=function(){var r,o;if(s._stopRequested!==!0)return n>=e.duration?(s._whileEasing=!1,s._triggerEvent("end",1,1,e.valueInChange),void 0):(0!==n&&(r=n/e.duration,o=e.easing(r,n,0,1,e.duration),t=e.valueInChange*o,s._triggerEvent("step",r,o,t)),n+=e.fps,setTimeout(i,e.fps))},i(),this},n.prototype.stop=function(){return this._whileEasing===!1?!1:(this._stopRequested=!0,this._triggerEvent("stop",this._currentData),this)},n.prototype.done=function(t){var n=this;return this.on("end",function(){return t(n)}),this},n}(n.Event),window.EaseStepperNs=n,window.EaseStepper=t}).call(this);